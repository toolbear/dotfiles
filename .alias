function d() {
    if [ "$*" = "" ] ; then
        dirs -v |cut -c5- |perl -e 'BEGIN { undef $/ } @a=split("\n",<>); print join(" ○ ", map {$_ eq "~" ? $ENV{HOME} : $_ } @a),"\n"'
    else
        dirs "$@"
    fi
}
alias +d="pushd > >(sed 's/ / ○ /g')"
alias -- -d="popd > >(sed 's/ / ○ /g')"
alias dn="pushd > >(sed 's/ / ○ /g') +1"
alias dp="pushd > >(sed 's/ / ○ /g') -0"

# Learning emacs
alias thwap="echo -e '\n\n\n*THWAP*\n\n\n'; sleep 1; emacs"
#alias edit=thwap
alias vi=thwap
alias vim=thwap
alias realvi=/usr/bin/vim
alias realvim=/usr/bin/vim
alias emacs=aquamacs
alias e=emacs

# Git
alias go='git checkout '
alias gk='gitk --all&'
alias gx='gitx --all'
function parse_git_branch {
  ref=$(git symbolic-ref HEAD 2> /dev/null) || return
  echo " ("${ref#refs/heads/}")"
}
# Git for my dotfiles in ~
alias got='git --git-dir=.git-dotfiles'
